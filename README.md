# Функциональность текущего монолитного приложения

## 1. Управление отоплением
Приложение предоставляет пользователю возможность удаленно управлять отоплением в доме:
- **Включение/выключение отопления**: Пользователь может включить или выключить систему отопления в доме.
- **Установка желаемой температуры**: Пользователь может задать нужную температуру для поддержания комфортных условий в помещении.
- **Автоматическое поддержание температуры**: Приложение автоматически регулирует подачу тепла для поддержания установленной температуры.

## 2. Мониторинг температуры
Приложение собирает данные о температуре от датчиков, установленных в доме, и позволяет пользователю просматривать их:
- **Получение данных от датчиков**: Приложение принимает данные о текущей температуре от подключенных датчиков.
- **Отображение температуры пользователю**: Веб-интерфейс предоставляет пользователю доступ к информации о текущей температуре в реальном времени.

## Текущие ограничения
- **Синхронное взаимодействие**: Все запросы обрабатываются синхронно, что может ограничивать масштабируемость и отказоустойчивость.
- **Монолитная архитектура**: Приложение представляет собой монолит, что затрудняет внесение изменений и масштабирование отдельных частей функциональности.
- **Требование выезда специалиста**: Для подключения нового оборудования или изменения конфигурации требуется участие специалиста.

# Технологический стек текущего монолитного приложения

## Основные технологии
- **Язык программирования**: Java — основной язык разработки приложения, обеспечивающий надежность и масштабируемость кода.
- **Фреймворк**: Spring Boot — используется для упрощения разработки и конфигурации приложения, обеспечивает базовые функции для создания веб-приложений на Java.

## База данных
- **СУБД**: PostgreSQL — реляционная база данных для хранения информации о пользователях, настройках системы отопления, температурных данных и других сущностях. PostgreSQL подходит для обработки структурированных данных и поддерживает сложные запросы.

# Структура проекта

Проект организован по принципу C4-моделей, которые детализируют архитектуру системы на различных уровнях: контекста, контейнеров, компонентов и кода. В корневой директории находятся несколько подпапок для разных уровней C4, а также файлы для ER-модели и Swagger-документации API.

## Директории и файлы

- **c4/** — Главная директория для C4-диаграмм, содержит поддиректории для различных уровней детализации архитектуры.
    - **context/** — Диаграммы уровня контекста (System Context) для описания внешнего взаимодействия системы.
        - `context.puml` — Диаграмма контекста системы, описывающая, как система взаимодействует с внешними пользователями и системами.
    - **containers/** — Диаграммы уровня контейнеров (Containers), показывающие основные части приложения (контейнеры) и их взаимодействия.
        - `containers.puml` — Диаграмма контейнеров, визуализирующая микросервисы, базы данных, API Gateway и их взаимосвязи.
    - **components/** — Диаграммы уровня компонентов (Components) для отдельных микросервисов, детализирующие ключевые компоненты внутри каждого сервиса.
        - `API_Gateway.puml` — Компоненты API Gateway, такие как Route Manager, Rate Limiter и Auth Proxy.
        - `Device_Management_Service.puml` — Компоненты сервиса управления устройствами.
        - `Temperature_Monitoring_Service.puml` — Компоненты сервиса мониторинга температуры.
        - `User_Management_Service.puml` — Компоненты сервиса управления пользователями.
    - **code/** — Диаграммы уровня кода (Code) для самых критичных частей системы, описывающие реализацию ключевых компонентов на уровне классов и последовательностей.
        - `Device_Management_Service-Command_Handler.puml` — Детализированная диаграмма уровня кода для обработчика команд в сервисе управления устройствами.
        - `Temperature_Monitoring_Service-Sensor_Data_Processor.puml` — Диаграмма уровня кода для обработчика данных датчиков в сервисе мониторинга температуры.
        - `User_Management_Service-Authentication_Manager.puml` — Диаграмма уровня кода для менеджера аутентификации в сервисе управления пользователями.

- **er_model.puml** — ER-диаграмма, описывающая основные сущности системы и их взаимосвязи (например, User, Device, TelemetryData и др.).

- **swagger.yaml** — Файл Swagger-документации (OpenAPI) для описания REST API, предоставляемого микросервисами, включая эндпоинты для управления устройствами и телеметрии.

## Описание

Эта структура обеспечивает четкую организацию архитектурных диаграмм и документации API.
Каждый уровень C4-модели предоставляет разные уровни детализации:
- Уровень **context** описывает взаимодействие системы с внешними пользователями.
- Уровень **containers** показывает высокоуровневую структуру системы и взаимодействие между основными сервисами.
- Уровень **components** описывает внутреннюю организацию сервисов.
- Уровень **code** фокусируется на критичных частях кода, предоставляя детализированные диаграммы классов и последовательностей.

Эти ресурсы помогают глубже понять архитектуру и обеспечивают полное представление о структуре и функциональности системы.
